"use strict";define(["modules/default/defaultcontroller","openchemlib/openchemlib-full"],function(a,b){function c(){this.currentMol={idcode:"",coordinates:""}}return $.extend(!0,c.prototype,a),c.prototype.moduleInformation={name:"OCL Molecule editor",description:"Molecule editor using the openchemlib javascript library",author:"Michael Zasso",date:"11.05.2015",license:"BSD",cssClass:"ocl_editor"},c.prototype.references={mol:{label:"Molfile 2D"},smiles:{label:"Smiles"},actid:{label:"OCL molecule ID"}},c.prototype.variablesIn=["mol","smiles","actid"],c.prototype.events={onStructureChange:{label:"Molecular structure has changed",refVariable:["mol","smiles","actid"]}},c.prototype.configurationStructure=function(){return{groups:{group:{options:{type:"list"},fields:{prefs:{type:"checkbox",title:"Options",default:[],options:{queryFeatures:"Enable query features"}}}}}}},c.prototype.configAliases={prefs:["groups","group",0,"prefs",0]},c.prototype.onChange=function(a){a=a||" ";var c=a.split(" ");if(c[0]!==this.currentMol.idcode||c[1]!==this.currentMol.coordinates){this.currentMol.idcode=c[0],this.currentMol.coordinates=c[1];var d=b.Molecule.fromIDCode(c[0],c[1]),e=d.toMolfile(),f=d.toSmiles();this.createDataFromEvent("onStructureChange","mol",{type:"mol2d",value:e}),this.createDataFromEvent("onStructureChange","smiles",{type:"smiles",value:f}),this.createDataFromEvent("onStructureChange","actid",{type:"oclID",value:c[0],coordinates:c[1]})}},c});