"use strict";define(["jquery","modules/default/defaultview","forms/button","src/util/ui","src/util/typerenderer"],function(a,b,c,d,e){function f(){}return a.extend(!0,f.prototype,b,{onResize:function(){function b(a,b){var c=Promise.resolve(!0);g.module.getConfigurationCheckbox("askConfirm","yes")&&(c=d.confirm(g.module.getConfiguration("confirmText"),g.module.getConfiguration("okLabel"),g.module.getConfiguration("cancelLabel"))),c.then(function(a){a&&(b||"toggle"!==j||h?"toggle"!==j||h||(k.setTitle(g.module.getConfiguration("onLabel")),g.setButtonColor(g.module.getConfiguration("onColor"))):(k.setTitle(g.module.getConfiguration("offLabel")),g.setButtonColor(g.module.getConfiguration("offColor"))),g.module.controller.onClick(b))})}var f,g=this;this.dom=a("<div></div>").css({width:"100%",height:"100%"});var h=this.module.getConfiguration("content"),i=this.module.getConfiguration("contentType"),j=this.module.getConfiguration("toggle");f="toggle"===j&&"off"===this.module.getConfiguration("startState")?this.module.getConfiguration("offLabel"):"toggle"===j&&"on"===this.module.getConfiguration("startState")?this.module.getConfiguration("onLabel"):this.module.getConfiguration("label");var k=new c(f,b,{color:"Grey",disabled:!1,checkbox:"click"!==this.module.getConfiguration("toggle"),value:"on"===this.module.getConfiguration("startState")});if(this.module.getDomContent().html(this.dom),h)if("imageUrl"===i){var l=a('<img src="'+h+'"/>');l.css({width:this.width,height:this.height,cursor:"pointer",objectFit:"contain"}),this.dom.html(l),this.dom.css({overflow:"hidden"}),this.dom.on("click",b)}else if("svg"===i){var m=a("<div>");m.append(h),m.css("cursor","pointer"),e.render(m,{type:"svg",value:h}),m.on("click",b),this.dom.html(m)}else{var m=a("<div>");m.append(h),m.css("cursor","pointer"),m.on("click",b),this.dom.html(m)}else this.dom.html(k.render().css({position:"absolute",bottom:3}));this.button=k,"toggle"!==j||h||g.setButtonColor(g.module.getConfiguration("offColor")),this.resolveReady()},setButtonColor:function(a){a="rgba("+a.join(",")+")",this.button.setColorCss(a)}}),f});